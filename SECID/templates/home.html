{% extends 'base.html' %}

{% block body %}

<style>
    html, body {
        height: auto;
        min-height: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }

    .image-text-block {
        position: relative;
        width: 100%;
        margin-bottom: 50px;
    }

    .image-text-block img {
        width: 100%;
        height: auto; /* Garante proporção automática */
        display: block; /* Remove espaços extras */
        border-radius: 8px;
    }

    .image-text-block .text-overlay {
        position: absolute;
        bottom: 20px; /* Texto na parte inferior da imagem */
        color: white;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); /* Para maior legibilidade */
    }

    .text-left {
        left: 20px;
        text-align: left;
    }

    .text-right {
        right: 20px;
        text-align: right;
    }

    .text-overlay h3 {
        font-size: 3vw; /* Tamanho proporcional à largura da tela */
        margin: 0;
    }

    .text-overlay p {
        font-size: 1.8vw;
        margin: 5px 0 0;
    }
</style>

<!-- Bloco com apenas uma imagem antes -->
<div class="container-fluid mt-5 d-flex justify-content-center">
    <img src="{{ url_for('static', filename='secid (8).jpeg') }}" alt="Imagem Inicial" style="width: 100%; height: auto; border-radius: 8px;">
</div>

<!-- Bloco principal com texto e imagem -->
<div class="container-fluid mt-5 p-4" style="background: rgba(255, 255, 255, 0.85); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;">
    <div class="row align-items-center">
        <!-- Coluna do texto -->
        <div class="col-md-6">
            <h1>Sistema Integrado de Gestão de Engenharia e Finanças</h1>
            <p>O Sistema Integrado de Gestão deEngenharia e Finanças (SIGEF) foi desenvolvido para centralizar, automatizar e padronizar os processos financeiros e administrativos na administração pública, trazendo melhorias significativas. Este sistema é uma resposta eficaz a desafios como a falta de padronização, a ineficiência na gestão de gastos e a falta de transparência, que historicamente dificultam a gestão fiscal eficiente.</p>
            <p>A peça central desta solução é um site que centraliza todas as informações fiscais e de execução de obras. O sistema conta com uma área de login que direciona cada usuário às funcionalidades necessárias, possibilita a emissão de despachos padronizados no SEI, e permite a extração de dados do SIAFE para visualização em tempo real das informações financeiras.</p>
            <!-- Botão abaixo do texto -->
            <div class="mt-4">
                <a href="/sobre" class="btn btn-primary">Saiba Mais</a>
            </div>
        </div>

        <!-- Coluna da imagem -->
        <div class="col-md-6 d-flex justify-content-center">
            <img src="{{ url_for('static', filename='secid (12).JPG') }}" alt="Imagem Descritiva" class="img-fluid rounded" style="max-width: 100%; height: auto;">
        </div>
    </div>
</div>

<!-- Bloco com apenas uma imagem depois -->
<div class="container-fluid mt-5 d-flex justify-content-center">
    <img src="{{ url_for('static', filename='secid (6).jpeg') }}" alt="Imagem Secundária" style="width: 100%; height: auto; border-radius: 8px;">
</div>

<!-- Blocos de informações por região -->
<div class="container-fluid mt-5">
    <!-- Região Norte -->
    <div class="image-text-block mb-5">
        <img src="{{ url_for('static', filename='norte_fluminense.jpeg') }}" alt="Imagem Região Norte">
        <div class="text-overlay text-left">
            <h3>{{ regioes[0].nome }}</h3>
            <p>{{ regioes[0].quantidade }} ações</p>
            <p>R$ {{ regioes[0].valor_total }}</p>
        </div>
    </div>

    <!-- Região Metropolitana -->
    <div class="image-text-block mb-5">
        <img src="{{ url_for('static', filename='baixada_fluminense.JPG') }}" alt="Imagem Região Metropolitana">
        <div class="text-overlay text-right">
            <h3>{{ regioes[1].nome }}</h3>
            <p>{{ regioes[1].quantidade }} ações</p>
            <p>R$ {{ regioes[1].valor_total }}</p>
        </div>
    </div>

    <!-- Região Centro Sul -->
    <div class="image-text-block">
        <img src="{{ url_for('static', filename='centro_sul_fluminense.JPG') }}" alt="Imagem Região Centro Sul">
        <div class="text-overlay text-left">
            <h3>{{ regioes[2].nome }}</h3>
            <p>{{ regioes[2].quantidade }} ações</p>
            <p>R$ {{ regioes[2].valor_total }}</p>
        </div>
    </div>
</div>


<!-- Bloco com quatro imagens menores -->
<div class="container-fluid mt-5">
    <div class="p-4" style="background: rgba(255, 255, 255, 0.85); border-radius: 8px;">
        <h2 class="text-center">Andamento das Obras</h2>
        <p class="text-center">Acompanhe conosco o andamento das nossas Obras:</p>
        <div class="row text-center">
            {% for combinacao in combinacoes %}
            <div class="col-md-3">
                <img src="{{ url_for('static', filename=combinacao['imagem']) }}" alt="Imagem {{ loop.index }}" class="img-fluid rounded">
                <p class="mt-2">{{ combinacao['medicao'].projeto_nome }}</p>
                <p class="mt-2">Medição Realizada Nº {{ combinacao['medicao'].numero_medicao }}</p>
                <p class="mt-2">Valor: R$ {{ combinacao['valor_formatado'] }}</p>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="/noticias" class="btn btn-primary">Saiba Mais</a>
        </div>
    </div>
</div>


{% endblock %}
